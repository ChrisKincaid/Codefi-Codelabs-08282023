<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" 
        content="width=device-width, initial-scale=1.0">
    <title>Getting Started with JavaScript</title>
    <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
    crossorigin="anonymous">
    <style>
        body, .jumbotron{ padding: 30px; }
        .text-giant{ font-size: 40px; text-align: right;}
    </style>
</head>
<body>
    <a href="/Everything/\/index.html"><p>Back to main page.</p></a>
    <div class="jumbotron">
        <h2>How much do pies cost?</h2>
        <form>
            <div class="form-group">
                <label for="price">Price</label>
                <input type="text" class="form-control" name="price"
                value="5">
            </div>
            <div class="form-group">
                <label for="quantity">
                    Quantity
                    <span class="label label-primary quantity-label">1</span>
                </label>
                <input type="range" class="form-control" name="quantity"
                value="1" min="1" max="10" step="1">
            </div>
        </form>
        <div class="text-giant total"></div>
    </div>


    <!-- Start Javascript -->
    <script>

        // Grab everything we need
        const priceInput    = document.querySelector('[name="price"]');
        const quantityInput = document.querySelector('[name="quantity"]');
        const total         = document.querySelector('.total');
        const quantityLabel = document.querySelector('.quantity-label');

        // create the functions that we will need
        function calculatePieCost(){
            const price = priceInput.value;
            const quantity = quantityInput.value;
            const cost = price * quantity;
            console.log(cost);
            total.innerText = '$' + cost.toFixed(2);
        }

        function updateQuantityLabel(){
            const quantity              = quantityInput.value;
            quantityLabel.textContent   = quantity;
        }

        //on frst run
        calculatePieCost();

        // add event listners
        priceInput.addEventListener('input', calculatePieCost);
        quantityInput.addEventListener('input', calculatePieCost);
        quantityInput.addEventListener('input', updateQuantityLabel);
    </script>
</body>
</html>